# ~~ Generated by projen. To modify, edit .projenrc.ts and run "npx projen".

name: update-contributors
on:
  workflow_dispatch:
    schedule:
      cron: 0 0 1 * *
jobs:
  main:
    runs-on: ubuntu-latest
    permissions:
      pull-requests: write
    if: github.repository == 'awslabs/generative-ai-cdk-constructs'
    steps:
      - name: Checkout project
        uses: actions/checkout@v3
      - name: Update a projects CONTRIBUTORS file
        uses: minicli/action-contributors@v3.3
        env:
          CONTRIB_REPOSITORY: awslabs/generative-ai-cdk-constructs
          CONTRIB_OUTPUT_FILE: CONTRIBUTORS.md
          CONTRIB_IGNORE: emerging-tech-cdk-constructs-bot, generative-ai-cdk-constructs-bot, dependabot[bot], dependabot, amazon-auto, github-actions
      - name: Create a PR
        uses: peter-evans/create-pull-request@v5
        with:
          branch: automation/update-contributors
          author: emerging-tech-cdk-constructs-bot
          commit-message: "chore: update Contributors File"
          title: "chore: update Contributors File"
          labels: auto-approve
          token: ${{ secrets.PROJEN_GITHUB_TOKEN }}
