
type FileStatus @aws_iam @aws_cognito_user_pools {
	name: String
	status: String
	summary: String
}

input FileStatusInput {
	name: String
	status: String
	summary: String
}

type SummaryDocs @aws_iam @aws_cognito_user_pools {
	summaryjobid: ID
	files: [FileStatus]
}

input SummaryDocsInput {
	summaryjobid: ID
	files: [FileStatusInput]
}

type Mutation @aws_iam @aws_cognito_user_pools {
	generateSummary(summaryInput: SummaryDocsInput!): SummaryDocs
	updateSummaryJobStatus(summaryjobid: ID, files: [FileStatusInput]): SummaryDocs
}

type Query @aws_iam @aws_cognito_user_pools {
	getSummary: SummaryDocs
}

type Subscription @aws_iam @aws_cognito_user_pools {
	generateSummary(summaryInput: SummaryDocsInput!): SummaryDocs
		@aws_subscribe(mutations: ["generateSummary"])
	updateSummaryJobStatus(summaryjobid: ID, files: [FileStatusInput]): SummaryDocs
		@aws_subscribe(mutations: ["updateSummaryJobStatus"])
}

schema {
	query: Query
	mutation: Mutation
	subscription: Subscription
}

